<mvc:View controllerName="fokind.bot.controller.Backtest"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout"
    xmlns:form="sap.ui.layout.form"
    xmlns:codeeditor="sap.ui.codeeditor"
    xmlns:t="sap.ui.table"
    xmlns="sap.m" displayBlock="true">
    <Page title="Backtest" enableScrolling="false" showNavButton="true" navButtonPress="onBackPress" showHeader="true">
        <headerContent>
            <Button icon="sap-icon://copy" text="Clone" press="onClonePress"/>
        </headerContent>
        <content>
            <l:ResponsiveSplitter>
                <l:PaneContainer>
                    <l:PaneContainer orientation="Vertical">
                        <l:SplitPane>
                            <form:Form editable="false">
                                <form:layout>
                                    <form:ResponsiveGridLayout labelSpanXL="2" labelSpanL="2" labelSpanM="3" labelSpanS="6" adjustLabelSpan="false" emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0" columnsXL="12" columnsL="6" columnsM="4"/>
                                </form:layout>
                                <form:formContainers>
                                    <form:FormContainer>
                                        <form:formElements>
                                            <form:FormElement label="Exchange">
                                                <Text text="{exchange}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Currency">
                                                <Text text="{currency}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Asset">
                                                <Text text="{asset}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Period">
                                                <Text text="{period}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Begin">
                                                <Text text="{begin}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="End">
                                                <Text text="{end}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Stop loss level">
                                                <Text text="{stoplossLevel}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Fee">
                                                <Text text="{fee}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Initial Balance">
                                                <Text text="{initialBalance}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Final Balance">
                                                <Text text="{finalBalance}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Strategy name">
                                                <Text text="{strategyName}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Strategy warmup">
                                                <Text text="{strategyWarmup}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                            <form:FormElement label="Indicators">
                                                <Text text="{strategyIndicatorInputs}">
                                                    <layoutData>
                                                        <l:GridData span="XL2 L2 M3 S6"/>
                                                    </layoutData>
                                                </Text>
                                            </form:FormElement>
                                        </form:formElements>
                                    </form:FormContainer>
                                </form:formContainers>
                            </form:Form>
                        </l:SplitPane>
                        <l:SplitPane>
                            <codeeditor:CodeEditor editable="false" value="{strategyCode}" height="100%"/>
                        </l:SplitPane>
                    </l:PaneContainer>
                    <l:PaneContainer>
                        <l:SplitPane>
                            <t:Table id="roundtrips" rows="{Roundtrips}" title="Roundtrips" selectionMode="Single" selectionBehavior="RowOnly" visibleRowCountMode="Auto">
                                <t:columns>
                                    <t:Column>
                                        <Label text="Begin" />
                                        <t:template>
                                            <Text text="{begin}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="End" />
                                        <t:template>
                                            <Text text="{end}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Open Price" />
                                        <t:template>
                                            <Text text="{openPrice}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Close Price" />
                                        <t:template>
                                            <Text text="{closePrice}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Fee" />
                                        <t:template>
                                            <Text text="{fee}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Open Amount" />
                                        <t:template>
                                            <Text text="{openAmount}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Close Amount" />
                                        <t:template>
                                            <Text text="{closeAmount}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                    <t:Column>
                                        <Label text="Profit" />
                                        <t:template>
                                            <Text text="{profit}" wrapping="false"/>
                                        </t:template>
                                    </t:Column>
                                </t:columns>
                            </t:Table>
                        </l:SplitPane>
                    </l:PaneContainer>
                </l:PaneContainer>
            </l:ResponsiveSplitter>
        </content>
    </Page>
</mvc:View>
